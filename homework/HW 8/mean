{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [],
   "source": [
    "import numpy as np\n",
    "import scipy.io as sio\n",
    "import cvxpy as cvx\n",
    "import matplotlib.pyplot as plt\n",
    "import pandas as pd\n",
    "%matplotlib inline"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "3.2613405508603286\n"
     ]
    }
   ],
   "source": [
    "mat_contents = sio.loadmat('meanvariance.mat')\n",
    "mu = mat_contents['mu']\n",
    "S = np.matrix(mat_contents['S'])\n",
    "d = np.size(mu)\n",
    "\n",
    "R = (mu.max() - mu.min())/2\n",
    "print(R)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Optimal portfolio\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "[<matplotlib.lines.Line2D at 0x81df13f60>]"
      ]
     },
     "execution_count": 3,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "iVBORw0KGgoAAAANSUhEUgAAAXIAAAD4CAYAAADxeG0DAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAADh0RVh0U29mdHdhcmUAbWF0cGxvdGxpYiB2ZXJzaW9uMy4xLjAsIGh0dHA6Ly9tYXRwbG90bGliLm9yZy+17YcXAAAgAElEQVR4nO3dd3hc5ZX48e87Tb1Y3bZsyb3b2BbN9BqHmgKBdFgSk2QDIeyGDZBNfim7m07IhrBAaCGE0AOhBWw6Ngb3Ksu2bNmS1WWrjzTl/f0xc0czKpY0c62rkc7nefxYGo3u3NGdOXPuec/7XqW1RgghRPyyWb0DQgghYiOBXAgh4pwEciGEiHMSyIUQIs5JIBdCiDjnsOJBc3JydHFxsRUPLYQQcWvjxo0NWuvc3rdbEsiLi4vZsGGDFQ8thBBxSylV0d/tUloRQog4J4FcCCHinARyIYSIcxLIhRAizkkgF0KIOCeBXAgh4pwEciGEiHMSyIWI0eGmDt4pq7d6N8Q4JoFciBg99MEBvvO3zVbvhhjHTAnkSqnvKqV2KqV2KKWeUEolmrFdIeKB2+PH7fFZvRtiHIs5kCulJgM3AyVa64WAHbg21u0KES+8Pj9en1xpS1jHrNKKA0hSSjmAZOCISdsVYtTz+Px4/Rq5bKKwSsyBXGtdBfwaOARUA81a69dj3a4Q8cLjDwRwj2TlwiJmlFYmAFcC04BJQIpS6kv93G+VUmqDUmpDfb2M8Iuxw+P1A+D1+y3eEzFemVFauRA4oLWu11p7gOeAFb3vpLW+X2tdorUuyc3ts5yuEHHLKxm5sJgZgfwQcJpSKlkppYALgN0mbFeIuODx+SP+F2KkmVEjXw88A2wCtge3eX+s2xUiXhgBXDpXhFVMuUKQ1vpHwI/M2JYQ8cYoqUhGLqwiMzuFiJFXSivCYhLIhYhRdzAjNwY9hRhpEsiFiJFk5MJqEsiFiFFP14pk5MIaEsiFiJERwL2SkQuLSCAXIkaSkQurSSAXIkY9MzslIxfWkEAuRIxkrRVhNQnkQsTI45fSirCWBHIhYiQzO4XVJJALEQO/X+PzG10rkpELa0ggFyIGnrC6uGTkwioSyIWIQXhdXGrkwioSyIWIQfgkIOlaEVaRQC5EDLp94aUVyciFNSSQCxEDb0RpRTJyYQ0J5ELEIDx4y1orwioSyIWIQXg5pVtKK8IiEsiFiIFk5GI0kEAuRAzCa+RyhSBhFQnkQsQgvGul2ysZubCGBHIhYiB95GI0kEAuRAzCBztlrRVhFQnkQsQgfK2VbhnsFBaRQC5EDDze8K4VyciFNSSQCxGD8E4VqZELq0ggFyIGRh95otNGt1cycmENUwK5UipTKfWMUqpUKbVbKXW6GdsVYrQzBjuTnHbJyIVlHCZt527gNa31VUopF5Bs0naFGNWMjDzZ5ZAaubBMzIFcKZUOnA1cB6C17ga6Y92uEPHA6CNPctmla0VYxozSynSgHnhYKbVZKfUnpVRK7zsppVYppTYopTbU19eb8LBCWM9YKCvZZZe1VoRlzAjkDmAZcK/WeinQDny/95201vdrrUu01iW5ubkmPKwQ1gtl5E67rLUiLGNGIK8EKrXW64PfP0MgsAsx5vXUyO2y1oqwTMyBXGtdAxxWSs0J3nQBsCvW7QoRD4yulUTJyIWFzOpauQl4PNixUg5cb9J2hRjVPD4/DpvC5bBJjVxYxpRArrXeApSYsS0h4onXr3HabThsNrn4srCMzOwUIgbdXj8Ou8JpV3LxZWEZCeRCxMDr9+Oy23DabVIjF5aRQC5EDDxejcOucNhVxEqIQowkCeRCxMDj9+MMZuQeWWtFWEQCuRAx8Ph0MJArWWtFWEYCuRAx8Pr8OO0Khy1QI9dagrkYeRLIhYhBoI88kJEHvpdALkaeBHIhYuDxaZyOQI0c5CpBwhoSyIWIgcfnx2VXOIKB3CNXCRIWkEAuRAz6lFYkIxcWkEAuRAz6lFakRi4sIIFciBh4fH6cNoXDpkLfCzHSJJALEQNvqI88WCOXQC4sIIFciBh4fMaiWUbXipRWxMiTQC5EDDzBRbMcwcFOuUqQsIIEciFiYCyaZXStSEYurCCBXIgYeMMWzQLkKkHCEhLIhYhBt9cfukIQQLcEcmEBCeRCxCBwqTeFyxEsrUgfubCABHIhYhDoWunJyGWtFWEFCeRCRElrHVqPvKdrRTJyMfIkkAsRJaNDxWlTuGT1Q2EhCeRCRMmohzsdtp7VD2WwU1hAArkQUTI6VBwRa61IaUWMPAnkQkTJ6Bl3OWy4HLL6obCOBHIhomRk3w6bTVY/FJYyLZArpexKqc1KqZfM2qYQo5kRtJ3hVwiSQC4sYGZG/h1gt4nbE2JU6wnktrCuFSmtiJFnSiBXShUClwJ/MmN7QsSDUPthWB+5R1Y/FBYwKyP/HXAbMOCrWCm1Sim1QSm1ob6+3qSHFcI6xpK1DntY14pk5MICMQdypdRlQJ3WeuPx7qe1vl9rXaK1LsnNzY31YYWwnJGRu+w2lAosZSurHwormJGRnwFcoZQ6CPwNOF8p9RcTtivEqGbUyI2yisNmk8FOYYmYA7nW+natdaHWuhi4FnhTa/2lmPdMiFEufLATAgFdJgQJK0gfuRBRMoK2cXUgl90ma60ISzjM3JjW+m3gbTO3KcRo5e0vI5fVD4UFJCMXIkp9Sis2Gx7JyIUFJJALEaU+pRWHTdZaEZaQQC5ElPpm5Eq6VoQlJJALESUj+3aEauQ26VoRlpBALkSUusMWzQJw2ZV0rQhLSCAXIkqhrhVbeEYugVyMPAnkQkTJE3apNzBq5FJaESNPArkQUTJaDY0FswJdK5KRi5EngVyIKBmTfyK7ViQjFyNPArkQUfL6/dgU2IMZudTIhVUkkAsRpW6fP5SNg7HWimTkYuRJIBciSh6vjgjkgdUPJSMXI08CuRBR8vr9oR5yCKy1IlP0hRUkkAsRJY/PH5rVCeBySEYurCGBXIgoeXwaV3hpRa4QJCwigVyIKAUy8rDSil1JaUVYQgK5EFHy+nSfrhVZj1xYQQK5EFHq9vlDszpBrtkprCOBXIgoeX1+XI7IGrnPr9FagrkYWRLIhYiSx6cjMnIjqEtWLkaaBHIhouTpNbPTCOrSuSJGmgRyIaLUJ5AHv5bOFTHSJJALESWvX0fM7HQFv5bOFTHSJJALEaVub+TMTuNrKa2IkSaBXIgoef2RMzudUloRFpFALkSUes/sNMoskpGLkRZzIFdKTVFKvaWU2q2U2qmU+o4ZOybEaNd7ZqfDJu2HwhoOE7bhBf5Na71JKZUGbFRKvaG13mXCtoUYtQIXlpCMXFgv5oxca12ttd4U/LoV2A1MjnW7Qox23l7th04Z7BQWMbVGrpQqBpYC6/v52Sql1Aal1Ib6+nozH1YIS3h6l1aCGblc7k2MNNMCuVIqFXgWuEVr3dL751rr+7XWJVrrktzcXLMeVgjL9B3slIxcWMOUQK6UchII4o9rrZ8zY5tCjHYen79X+6FRI5eMXIwsM7pWFPAgsFtr/dvYd0mI0c/n1/h1T6cK9HztlYxcjDAzMvIzgC8D5yultgT/XWLCdoUYtYzyidPRX2lFMnIxsmJuP9Ravw+oQe8oxBhiDGg6bf2VViQjFyNLZnYKEQWPN5iRR1yzM1hakUWzxAiTQC5EFIwVDh0y2ClGAQnkQkTBCNb9LZolpRUx0iSQCxEFozMlvI/cuEKQrH4oRpoEciGiEOpaCc/IHZKRC2tIIBciCkZpJWLRLFn9UFhEArkQUegvIw+ttSIZuRhhEsiFiIKRdUdc6s1mXLNTMnIxsiSQizFNa82r26vp8vpM3W5PRt5TWlFK4bQrqZGLESeBXIxpO4+08M3HN/HcpipTt+sN1cgj30IOm01KK2LESSAXY9q+ujYANlUcNXW7/dXIA98rGewcJ7TWo+ZDWwK5GNPK6wOBfPPhY6Zut9voI7dFLjPktNuktDJOPLr2IOf86m20tv6DWwK5GJV++0YZV/zh/Zi3s7+hHQhk5s2dnpi3ZzBKKy5Hr9KKXcmEoHFiXXkjVcc6ae3yWr0rEsjF6LR2XwPbKps51tEd03bK69tJSwgs8rmt0rys3HO8jFwWzRoXSmtaAWhsi+01agYJ5GLU0VqzpzbwJtlR1eeqgUPm92sONrSzcmEBSsHmQ+YH8r41cpvUyMeB9i4vh5o6AGhs67J4bySQC2BPTSsPvn/A6t0IOdLsptUdOF3dcaQ56u3UtLjp9PhYPCWTmbmpbD5k3oCnZ8CuFTVqBsDEiVNW24pRGm+QjFxYzePzc/MTm/npS7uobXFbvTsA7KkJZOFKwY6q6AN5eX2gPj4jJ4WlUzPZcviYaQNTxprj4X3kge8lIx8P9gTLKgCN7ZKRC4s9tq4iVMYwu0UvWkbtccWM7NgCeUOgY2V6bipLp07gaIeHisYOU/ax29t3PXJAJgSNE6U1rSQ57YDUyIXF6lu7uOuNMlbMyMblsLHJxNJDLPbUtDI5M4nTp2dzsLGDFnd03Sbl9e2kuOzkpydw0pRMADYfNuc5Gpd6c/UurdhtcoWgcaC0poU5BWlkJDmlRi6s9fNXS3F7ffz0UwtZNDmDTSYOBsZiT00rcwrSWDg5A4BdR6Ib8Nxf38a03BSUUszOTyPZZWeLSc/R4+27HjnIhKDR6h9bj1DXak7pUGvNnppW5k1MIzvVRUO7ZOTCIhsrmnh2UyU3nDmdGbmpLJuayfaqZtPXJBkuj8/P/vo25hSksWBSIJBHW14pr29nek4qAHabYklhpmkTg4yFsWRC0ND9bnUZd71RNuKP29zp4aYnNvOTf+wyZXt1rV0c7fAwJz+NnJQEychHi48PNtHZbW0AG2l/fGs/OakJ3HT+TACWTZ1At9fPziizX7OU17fj8WnmFqSRm5ZAQXrigIF8e2UzT2843O8Aptvj40hzJ9NzU0K3nTQ1k11HWnB7Yj/WHp8fl92GUpGBPNC1Ihl5b26Pj/veKefuNXt5YYu5694Mpi44iP/K9moOmTBGYozhzJ2YTnaqS2rko0Fti5vP3beOn71szqd1PKhrcfPWnjquLikkJThZZlnRBMD6Ac/SYMfKnII0ABZOzmBH2IeL1+fn75ur+PQfP+DyP7zP957Z1m9t/0BDO1oHBjoNS6dk4vVrdsbQ0hi+H73LKiAZ+UDWH2ii0+MjNy2BO57bzv7g0glmanV7+N7TW/t0X9W3BjJmv4YH3iuP+XFKqwOvx7kFgdJKo5RWzNfY1sXfN1fhG+Ka0IGWNHhqw2EON5nT0TDaPbe5Cr+Gq5cXhm7LT09kcmaSqZNmorGnphWHTYVKIgsnp7O/vo324DTon728m1ue3MKxDg+3f3IuDpvi9V21fbZjtB5Oz+nJyJcVTcBuUzy6tiLmNkSPT/fpIQcJ5AN5q7SORKeNp248HZfDxr8+vsmUM6Nwf99cxdMbK3lvb0PE7XXBQH5y8QSe2nA45lLInppW8tMTyEx2kZ2SwNGO7iHHmxNlTAXyfXVtfOqPH3DLk1v487qDQ/qd7ZXN2G0KpRT/++beE7p/0Wru8JjW/6y15qkNhykpmhCRrUIg0FnduVJa08qM3NTQGiYLJ2WgNeyubmFjRROPrjvIl06byppbz+HGc2Zw+oxs3tjZN5AfCLUe9gTynNQEbrlgFi9uPcIzGytj2k+Pz9+nhxyCa62M0QtLNHd4uOTu99heObwzGq01a0prOWNGDtNyUvjtNSdRWtPKj02qWRueCS5V3DsjNwY577x0Pt0+P4+uPRjT45TWtDK3IB2AnFQXWsPRGJeSiFVcBXK3x8fu6v5ruOvLG/nsvWvp7PaxbGomv3xtz5Ay7K2Vx5idn8YXT53Ks5uqOBhcZGk0aO708MMXdnDST1/nj2/vN2Wbmw4do7y+natLCvv8bNnUTKqb3Rw51mnKY0XD6FgxLCoMDHhurDjKbc9sY1JGErd/ch624CDjRfPzKW9oDy1Xayivb2diRiLJLkfE7d86byanTc/ihy/sjOn0PhDI+8/IY6mRWz3YfDzbq5rZVd0y7Br3/vo2Djd1ct7cPADOm5PH18+axhMfHeLjg01D2obW+rhnOvvq2tgaHMiubo58/da1dJHotLGkMIOL5uXz6LqK0BnecHl8fvbVtTE3+BrNTk0ArO8lNyWQK6VWKqX2KKX2KaW+b8Y2+3P7c9v5wgMfUtUr0KzZXcuXH/yInFQXz3/rDP7whWXYVOD+x8tktdZsr2pmSWEG3zx3Bk674u411mflWmte2FLFBb95h798WEFxdgp3r97bJ1hF45mNh0ly2rl08aQ+P1s2NVgntygrb3F7qDrWGRHI89ISyElN4O41e9lf385/fXphqK4PcOG8fABe31UTsa39De0R2bjBblP87pqlJDpt3PTXzf0GTr9f9/u62V7ZzH3v7Offn97KW3vqB6iRq9ASt8P1wpYqFv2/13mztO8ZxnObKrn/3f28tqOaHVXNHG3vHvHlU42znA/2Nw7r994srQMIBXKA7140m8mZSfzg+R1DKkW9uPUIS3/yBgcGSLSe21SJ3abIT0+gpjmydFLf1kVeWiJKKb5x7gyaOz384rXSqJZSONjQTrfPz9yJwUCe4gKsX2/FMfhdjk8pZQfuAS4CKoGPlVIvaq1NHz28+YJZrN5Vy7ce38RTN55GgsPOziPN3PTEZuZOTOOxfzmVjGQnAN+/ZB7/+fcdPLXhMNecPLXf7R1u6uRYh4fFhZnkpSXyldOLeeC9ck6fkU1OqotEh525E9PJCh4sCJwVvLqjmja3l+VFWcwpSMNu6/uGjpbWml/+cw/3vr2fJYUZPHzdyRRkJHLhb9/hjue287dVp4Wy0eHq6Pbyj63VXLJoIqkJfQ/9/EnpJDptbKo4xmW9An3VsU4ON3Vw6rSsPp0ax3suQ70vQJnRDRAWyJVSLJycztt76vnM0smcOycv4ncmZSaxaHIGb+yq5Vvnzgw9bnl9G586aXK/j1OQkcivrlrC1/68gduf286vr1oS+pvWtrj5/P0f0tHt4xML8vnEwgJqW9w8uraCLcGMLy8tgdn5qVzez4dhtFcIeuj9A/zkpcBbpndnhdaa257Z1qdk47LbyE1L4OtnTeO6M6YN+zGHa39w3GF3dQuNbV2hbHQwb5bWMbcgjcmZSaHbkl0OfnT5fFY9tpGHPzjAqrNnHHcbT2+opK3Ly89e2sWD150c8TOfX/P85irOnpWDT/dTWmnpIi8tsK/Lpk7gK6cX8ed1FeypaeX3n19Kfnpin8fTWtPQ1s3BxnYONrSjlOKkKRnsClYE5uQHSivG38DqXvKYAzlwCrBPa10OoJT6G3AlYHogn5aTwq+uXsI3/rKRn760i5vOn8UNj2wgM8nJn75SEgriAF88ZSr/2HqEn728m6LsFE6bnt1ne1uDy5ouDp6+33j2dJ7dWMltz2wL3cduU5w5M4fLFk/kcFMHj68/FDFKnZbo4PoVxdx68ZxhP5/2Li+Pr6/grFm5zJuYjt+v+clLu3hk7UG+cOpUfnrlwtCHxJ2XzuO2Z7bxxMeH+OKpRX22tfnQUbJSXBRl981CARraunjy48O0dXn7LatAoCyweHImGw8dpay2lQ/LG1l/oIlNFUepbg68Oe66ZgmfXtr/7++vb+PhDw5QVtvGkWOd1La4uen8Wdx8wawh/T2Mtq7wjBzgrFm5lNW08p+Xze/39y6an89dq8uoa3GTl55IQ1s3rW5vvxm54cL5+Xz3wtnctbqMCckufnDpPI51ePjyg+upaXGzYkYOT244zKPrKoBArf3HVyzg8iWTIj7YezNKK1pr7lq9l5e2HeH5b54R8doMp7Xm16/v4Z639nPhvHxW764NLRhm6Oj24fVrbj5/JhcvKOBQUwc1zW5qW92sL2/iv17ZzXlz8wY89gPZfOgoz2+u4vufnBtRgmps6+KpDZV87axpEeWjAw3tJDptuD1+1pU39vmwB3h/bwP/8+puSoom8IPL5tPp8bHh4FFWnT29z30vXlDAhfPy+N3qvVy2eBKTwgJ9uMa2LtaVNzI5M4k1pXW8taeO88I+0Nftb6S62c2dl87j3bL6PuXXulZ3xGvqJ1cu5KQpmdz5/A4uufs9Hrzu5NDMX8P3n93OkxsO99kXmwq0mM7IC/ytc1L7ZuRuj4/Vu2s5d05en4Spo9tLosMedTI2EDMC+WQg/BlXAqf2vpNSahWwCmDq1P4z5KFYubCAG8+ezn3vlvPm7jpa3B6e+cYK8np9qtpsil9dtZgvPbiea+//kKuWF3LHJfMi3oTbKo/hcthCBzk7NYG3vncuR4514vb4ae/y8t7eBv6x9Qjfe2YbSsH5c/K4/oxpFGUns6GiiT+9d4AnNxzuE8g3HGzir+sPMbsgjUWTM1hUmEF6YuSb+fVdNfz3K6VAKSdNySQ/PYF/7qzlhjOn8YNL50Vks1cvL+Tvm6v4+SulXDA3n4KMnue760gL19z3IQkOG/d9eTkrZuYAgXasX7xWyms7amkIvtDmFqRx6rSsAf++S4syue+dci6+610AJmYkUlKcRUnRBP728WF+83oZly6aFHFBhfL6Nn6/Zi8vbj2Cy2Fj0eQMSoomUN3s5u41ezlndi5Lgm+ULq+PW5/ayqaKo9iUQilIcTnITnVR0+ImLcERkbkB3HDmNK5fUTzgi//iBfn89o0yVu+u43Mlhfz2jT1A3w+E3m6+YCZHO7p58P0DJDntvLu3noONHTxy/cmsmJFDR3fg+KclODh9RvaQzi6cdkWXz88dz2/niY8Cb4tXd1Rz7Sn9v+bXH2jinrf2c+3JU/ivTy9i/g9fo61X/db4Pj8jkYWTM0IzXiGQfZ77q7f5xWul/PGLywfdP0Ndq5uv/3kjDW1dHDnm5r4vL8duU7S6PXz14Y/YUdXCgknpnD07N/Q75Q1tnD83j3fLGli7PzKQVzd38rOXdvPy9mpyUhN4dF0Fe+vauGzxJLx+zflz8/rbDX50+QIuuusd/uvl3dzzxWX93uefO2vx+TX3fHEZtz65hZ/+YxdnzMgJvQaf3VRJWqKDC+flU1bTSkNbV8QYRl1rF2cG3xOGzywrZHFhBp+770MeeK+ce74Q+dgfHWxi6dRMbr5gFtOyU/D6/Ww+dIxNh45RkJ5IgiOwzkp6ohOHTUXUyJ/dVMmdz+8gI8nJdSuKuebkKWysOMqrO6p5q7Sev3ztFJYXDfwejIYZgby/V3ef4p3W+n7gfoCSkpKYinvf+8QcNh8+xscHm3jgyyXMn5Te7/2KslN4/ZZz+P2be3ng3XLW7K7l6W+sYGZeoFtjW2Uz8yemR2Qd6YlO0gt6Au4ZM3P4j5Vz2F7VTGaSi6nZyaGfTclKpupoJ79+vYyObm9EVvPkx4d5bnPPoFBGkpOP7rwg9AKAQGkH4I5L5vLUhkq27DzGt8+byb9dPLtP0FBK8d+fXsTKu99l1WMbePxrp5KW6MTt8XHLk5vJSHaSleziqw9/xC+vWkxBehL//vRWqps7uXzJJBZNzmDexHROmpJ53ID0+ZOn4u72sWByBqdPz6ZwQlLo/sU5KXz1oY/46/qK0Kn8+3sbuP6Rj7DbFF87azqrzp5OTvB0s8Xt4RN3vcu/Pb2Vl246E5fdxq1PbeXlbdVcvmQSCQ4bfr+mrctLY3s3fr/mipMm9bt/x8tg5uSnMSUriRe3VvHPnTW8U1bPN8+dwen9nIX1/pv+8LL5NHd6+MNb+3DYFP/3peWsmBF40ye7HHxiQcFxt9Gbw67o9vp54qPD/Ot5M3h1Rw1/31I1YCB/adsRkpx2fnT5Auw2RVqio88VZ1qDa830Vw7LT0/kxnOm87vVe9lwsImS4iz8fs0D75XT3u3juxfO6vP39Pk133liC21dHr525jT+9P4BfvKPndxx6TxufGwjpdWBM6Nd1S2hQN7l9VF5tJNPLy2ky+Nn7b6eFr9jHd1c+vv3ae/ycutFs1l19nRe3lbN7c9tZ+3+RjKTnSwNjr/0NiUrmS+dWsSj6w7S3uWNGP8wvLK9muLsZJYUZvCfl8/n+oc/5pG1B7j2lKnsrGrhtR01fGrpZBKddgoyktA60Ds+KTMJt8dHq9vbJ9EDmJkXSLIqGiPr7j6/pvJoBysXTo/I/GfmpXF1yZSI+9psiqwUV8QKiKXVraS47JwyLYu71+wNjbvlpCbw2eWTyUwe+IwuWmYE8kog/NkVAkdM2O6AHHYbD193MoeaOpg3sf8gbkhy2fmPlXP51EmT+ey9a7l7zV7+9/NL8fk1O6qauWp5/2WCcEopFhdm9vsz43T2UFNHqCUJAqehp07L4t4vLefRtQe5e81eqo52RrT8VR7tIC8tgVVnz+DrZ02ntqUrItPurTgnhXu+sIwbH9vI1/+8gUeuP4VfvFZKWW0bj/7LKZw0JZNvPLaR7z65FaWgKCuZp7+xguVF/b+JBnqMH1+5sN+fnT0rh9OnZ/O/b+7jqpIpVB3t5Jt/2ciM3FT+fMMp5KVF7nt6opNffHYxX3noI37z+h48Ps3L26q545K5g9ZEh0MpxUXzCnjogwPYbYqff2bRgIGzN5tN8curFpOXlsDyoglcOD8/pn0xzrp+dPl8rj9jGi67nd+tKaO6uZOJGZFnGj6/5rUdtZw3N5ckV+ADPjXBQZu7dyD3Rmy7t1VnT+ev6w/xs5d38+j1p3DrU1tYExxgTEtw8PVeZY27V5exrryRX1+9hKuWF6IUPPDeAT7Y38i+ujbuumYJv/5nWcQs30ONHYEJVjkpZCQ5WVNaR9WxTiZnJvF/75RztKObf3z7zNDZwmeXF1KUncyNj21k5cKC444jnTsnjz+9f4CPDjRFDIgCNLV3s668kRvPno5SivPm5HH+3Dx+/mpp8Gw2cLm9LwSPd0FGIImoaXEzKTMpNBkoN63/en5xdjKbDh2NGM85cqwTj09TlJXc7+/0lp2aELEmeVltoPPqga+UUFrTwprddZQUTaCkOMvU8bRwZgTyj4FZSqlpQBVwLfAFE7Z7XCkJjkGDeLg5BWl86bQi7n93P7deNBuvz097t49FAwTooWXAkvQAABMSSURBVCoOBvKDDX0D+UXz88lKcXHWrBzuXrOXiqaOXoG8k8IJgTe3Uuq4Qdxwwbx8fvO5Jdzy5BauuW8dWyubuW5FMecEM6dH/uVk/vvl3TjtNm69eHaf9rtYKKW4beUcPv3HtfzytVJW76olyWXnoetO7hPEDWfPzuWLp07lgfcCF6742pnTTA3ihmtOnsJHBxv5j5VzOWtW7uC/EMZpt3H7JfNM2Y+vnF7MuXPyQmWdK0+axF2ry3hpa3WfgPrxwSYa2rq4ZNHE0G1pic5QBm4wSiupif0fy2SXg3+/eA63PbuN837zNi2dHn58xQI+LG/kf17dzeyCNM6ZnYvPr3ny48P871v7+FxJYSiJuf2T86g61skr22v4waXz+PTSQl7ZXhMxA9YY6JyemxLq2PhgXwPnzsnlkbUHuGLJpIiSD0BJcRYf3nHBoH+zkuIJJDhsvLe3oU8g/+fOGnx+HfE3+smVC/jdahfF2cksmBQoWxpngcbAZW1wTMfoIc8bIJAXZafQ6vZytMMTKrsaV/4JP/s+npxUV6hGrrWmrLY1dCY3tyA9Ii6cKDG/y7XWXqXUt4F/AnbgIa31zpj37AS44cxpPPzBAe59ex+nTAucdi8pzBjkt47PONjhp2fNnR4a27uZFpxVODX4yd67r73yaGefQZahuPKkybS4vfzn33cwOz+V739ybuhnCQ77gBm1GZZOncDKBQX8eV0FyS47T914+oCDVIY7LpnHpkPHWDgpnTtMCpi9zSlI46Wbzjoh2x6OJJc9ojZfnJPCkimZvLC1qk8gf3V7NQkOW8Tpe2qCo0+N3MjI0wYI5BDIgB/7sIKaFjd/W3UaJcVZXLW8kAMN7Xz7r5v44WXzeeiDg+yubuGU4ix+fEXPa8RmU9x97VK+dW5rKBgvmJTO6t21oZKh0fY3LSeF1AQHOaku1u5rYNeRFjw+zXcvnN3vfvXXa99botPOycVZfLCvoc/PXtleTVF2MgvCyqeFE5L59dVL+t1WQTCQ1wQ7V+pajp+RFwXfvwcb20OB3FizfqiDx9kprlDwb2jr5miHh9n5xx+fMZsp6ZrW+hXgFTO2dSLlpiVw7clTeHz9IZraPaS47H1mNw5XRpKTrBQXFWFB+mDYi9543ASHLaKtzOfXHDnWyWWLJxKNL59WxNSsZGblpZLotA/+Cya6beUcDja2c9vKOX2ysP6kJDh45eYzh9WKOJZcuWQSP3lpF/vq2kLjM36/5tUdNZw7JzeiLpya6OjzgW+UWvqrkRvsNsWTN56GQoXKNCkJDh74SglXBNekmZKVxO8/v5TLFk3sM+bgtNsijuX8ienBGbWtLC+aQHl9G7lpCaQFyzunz8jh7bJ6Orp8XL28kOKc4XXM9HbmrBx+/mppqPMIAmWVtfsbWRUsqwxFVooLl91GTSgjDwTygc4YjWBd0dgemkdR0dSOy24LfSgMJjs1ITTYWRa8SMtIB/K4mtlphlXnBE7rV++uZeHkDFNqVkXZyREZuZG9GO1vSimmZiWHPrUh0G3g9WsKJwzt9K0/58zOHTQbPhGm56by2i1nc/7codeTx2sQB7hs8URsCl4MmxG58dBR6lojyyoQqGn3zsiNC2ukJfRfIzckuxyhIG6YkpXMYzecys8/s4jVt57DFUsmDan1bUFoLfhAeeVAQ3soMYHA1ZuOdQT266Yhtpcej9FV8sH+nqz8le3V+PyaSxcNPdlRSpGXntCTkbe6sdtUaOJOb1OyklCKiCtHHWrsoDAracixITvVRVuXF7fH1xPIC2JLEIdr3AXyyZlJfGZZYKLI4hjLKobi7BQONvS8EMob2rGpwJvI0DuQVx4NdKwYNXIxduWlJ7JiRg4vbD0SWlzple3VuBw2LpgX+WGYlujo00c+WI18MAsnZ3DtKVMjOqYGMykjkcxkZ2jA80BDe8QCZGfOzEEp+MKpU/u0i0Zj/sR0JiQ7QwteuT0+/vjWPhYXZkSUVYZiYkZiKCOvb+0iJ9U14IdXgsPOpIykiEBe0dgx5IFOgJyU4DT99m7KalvJTHaSO8TJUmYZd4Ec4FvnziQtwTHsQbGBFGUnc6S5MzTd+0BDO4UTkiPeOFOykjnc1BGaVl15NPDCkUA+Ply1vJCKxg7O/uVb3Pv2fl7dXsM5s3P7lEtSEwMZefj0+za3l2SX/YR1PPRHKcWCSensqm6huSMw5hM+wWpKVjLPfXNFxPhMLGw2xYqZOXywrwGtNQ9/cJAjzW5u/+S8YZ/N5acnhmZ31rV2DVgfNxRlJ3MweEatteZQU8ewJldlh00KKqttY3Z+2oifgY7LQF6ck8LWH10cMdkhFkXZyWjd0xd+oKEt4jQUAhl5e7ePpuCsUCMjt6I0IkbelSdN4r4vL2dqVjK/eK2UmhY3lyzq26OemuDE59e4PT3T/Fvd3uMOdJ4o8yemU1rTSlldoFwwLSeyXLB06gRTx2fOmplDbUsXHx1o4o9v7eOCuXmcPuP4cwH6U5CeSE2LG611cHr+8WvdRdkpoYy8qb2bti5vqEFhKELT9Nu6KKtpZXb+yJZVwKTBznhk5hTZ8AGTGbkpHKhvp6TXzC3jhXGoqYPs1IRQD/lID1QKayil+MSCAj6xoICy2lbW7W/k0kV9p7gb5ZPWLk+o3t3W5T3uQOeJsmBSBt1eP6uD6733Tk7MdkawTn7TE5tp7/ZGne0XZCTi9vhp6fRS19o1aAm1ODuZpvZuWtyeUNNC0RBbD6Fn4aydVS20dnmZM8IDnTBOM3KzhXrJGzuob+2ivdvXNyPP7gnkENlDLsaX2flpfHVFccQyB4Z0I5CH1clbu7ykDjAZ6EQyatMvbavGblPDylKjMSUrmeLsZOpau7jm5CnMijIgGr3kVcc6aWzvGrCH3GAE7UONHaHOsmEF8mBpZW1wVcho9zsWEshNMCHZSVqig4rGdsp7tR4apkyI7CWvPNoZMRgqBPS0GIbP7mx1e0IBfiRNz00l0Wmj6lgnUyYk9fvBY7bz5uaR4rIP2Jc+FMbEup1HmtEacgdpIywKJWLtVDR2oBTD6iZLdjlIctrZGFz+eaRbD0ECuSmUUoHOlcaOiIkT4ZJcdnLTEjjU1BHqIZeMXPQWCuRhLYhtbmtKK3abYk5wVuKJLqsYvveJObxx6zn9ro0yVEb/9/bgRbsH6yApCk3q66CiqZ2C9MRhlzyzU110e/3kpCYcd3XME0UCuUmMXvIDDe24HLZ+BzGNFkQzesjF2JTaX2nFosFO6CmvxDpxbqiSXY6YGwDy0gOBe1vwknTG98d7zLy0BCoa2znU2BFVCckY8Jwzwv3jBgnkJinOTqHyaCdlta0UZyf32yo2NSuZw02d0kMuBmQsjBW+3kpgsHPka+TQE8hHKiM3Q4LDTnaKK3QRiMFq5GC0IHZQ0dQxrPq4ISeYhc/KG/myCkggN01RdjI+v+ajA00DvuinZgX6zY1LZklGLnrrXVoxlvmNdjJQrE6dlk2Cwxaavh4v8tMT6fYGWjgH6yOHQJ18T00r9a1dw75AB/QMeA62Bv6JIoHcJMZaEx3dvgHXnZiaFeg3X18euODspMzo64BibErpNdjZ1m0sYWtNIJ+Zl0rpT1cOuOb/aGUMeGYkOYc0o7U4O5nmzsBZUCylFSt6yEECuWnCT8emDxTIg/f5YH8D+ekJw5oyLcYHl8NGgsMWurjEUBbMOtHicZ0cowVxKGUViFzpMJrSyvScFFJcdks6VmAcTwgyW25qAskuOx3dvj4z4AzGJ31tS9ewLvYgxpfAmuTBQN7lDd0mhs7oXBlsoNMQHryLsoZfWvnMskIump9v2XGSjNwkSqnQp/pANfLc1MBytiADnWJgaYk9KyCGLvNmUWklXhlXChpser7BCN4ZSc4BL5R9PHabOiGXcBsqCeQmKs5OJi246H5/bDYVmgQkgVwMJHC5t0AAbx0FpZV4VBC8rN5QSysZyU4mJDujKquMBvLqMNG/njeTy5f0f/Fgw9SsZPbVtUnHihhQakLPUrY91+uUt+pwGKWVoXSsGC6anx/6AIg38uow0cLJGYNeMWeqZORiEGmJjtCaPLGuRT5eTctJ4bPLCvtcA/R4fnlV/5ePiwfy6hhhRiCfIhm5GEBq2MUl2twy2BkNl8PGbz4Xv4F5uCSQj7DPLi8kIyl+a3HixAu/3Fur24NSkCzLHYvjkEA+wjKSnHx2eaHVuyFGsfCrBLV2eUl1OUxdP1+MPdK1IsQok5YYuEpQp8dHm4ULZon4IYFciFEmfE3yVrd166yI+CGBXIhRJi10uTcvbV1eGegUg5JALsQoY2TkrW4vrW6PTAYSg5JALsQoY2TgbW5v8HqdEsjF8cUUyJVSv1JKlSqltimlnldKZZq1Y0KMVz1rkntoc3tlVqcYVKwZ+RvAQq31YqAMuD32XRJifEtLDC+tWHO9ThFfYgrkWuvXtdbGxQU/BKRBWogYGYH7WIeHTo9PBjvFoMyskf8L8OpAP1RKrVJKbVBKbaivrzfxYYUYW4yaeE2LO/C9ZORiEIO+QpRSq4GCfn50p9b6heB97gS8wOMDbUdrfT9wP0BJSYmOam+FGAecdhuJThvVzYGLdMtgpxjMoK8QrfWFx/u5UuqrwGXABVprCdBCmCA1wUl1cyAjl8FOMZiYXiFKqZXAfwDnaK07zNklIURaooPqY0ZpRWrk4vhirZH/AUgD3lBKbVFK/Z8J+yTEuJeW6KCu1R36WojjiekVorWeadaOCCF6pCY48AcLlVIjF4ORmZ1CjELhnSpp0rUiBiGBXIhRKDwLlz5yMRgJ5EKMQunB4G23KRKd8jYVxyevECFGIaO0kpboQCm5OpA4PgnkQoxCRmlFZnWKoZBALsQoZARwCeRiKCSQCzEKGb3j6TLQKYZAArkQo5ARyKWHXAyFBHIhRiFjWr7M6hRDIYFciFFIauRiOCSQCzEKSWlFDIcEciFGISOQy/R8MRQSyIUYhTKSnPz7xbO5dPEkq3dFxAH5uBdiFFJK8e3zZ1m9GyJOSEYuhBBxTgK5EELEOQnkQggR5ySQCyFEnJNALoQQcU4CuRBCxDkJ5EIIEeckkAshRJxTWuuRf1Cl6oGKKH89B2gwcXfixXh83uPxOcP4fN7j8TnD8J93kdY6t/eNlgTyWCilNmitS6zej5E2Hp/3eHzOMD6f93h8zmDe85bSihBCxDkJ5EIIEefiMZDfb/UOWGQ8Pu/x+JxhfD7v8ficwaTnHXc1ciGEEJHiMSMXQggRRgK5EELEubgK5EqplUqpPUqpfUqp71u9PyeCUmqKUuotpdRupdROpdR3grdnKaXeUErtDf4/wep9NZtSyq6U2qyUein4/TSl1Prgc35SKeWyeh/NppTKVEo9o5QqDR7z08f6sVZKfTf42t6hlHpCKZU4Fo+1UuohpVSdUmpH2G39HlsV8PtgbNumlFo2nMeKm0CulLID9wCfBOYDn1dKzbd2r04IL/BvWut5wGnAvwaf5/eBNVrrWcCa4PdjzXeA3WHf/wK4K/icjwI3WLJXJ9bdwGta67nAEgLPf8wea6XUZOBmoERrvRCwA9cyNo/1I8DKXrcNdGw/CcwK/lsF3DucB4qbQA6cAuzTWpdrrbuBvwFXWrxPptNaV2utNwW/biXwxp5M4Lk+Grzbo8CnrNnDE0MpVQhcCvwp+L0CzgeeCd5lLD7ndOBs4EEArXW31voYY/xYE7jEZJJSygEkA9WMwWOttX4XaOp180DH9krgzzrgQyBTKTVxqI8VT4F8MnA47PvK4G1jllKqGFgKrAfytdbVEAj2QJ51e3ZC/A64DfAHv88GjmmtvcHvx+Lxng7UAw8HS0p/UkqlMIaPtda6Cvg1cIhAAG8GNjL2j7VhoGMbU3yLp0Cu+rltzPZOKqVSgWeBW7TWLVbvz4mklLoMqNNabwy/uZ+7jrXj7QCWAfdqrZcC7YyhMkp/gjXhK4FpwCQghUBZobexdqwHE9PrPZ4CeSUwJez7QuCIRftyQimlnASC+ONa6+eCN9cap1rB/+us2r8T4AzgCqXUQQIls/MJZOiZwdNvGJvHuxKo1FqvD37/DIHAPpaP9YXAAa11vdbaAzwHrGDsH2vDQMc2pvgWT4H8Y2BWcHTbRWCA5EWL98l0wdrwg8BurfVvw370IvDV4NdfBV4Y6X07UbTWt2utC7XWxQSO65ta6y8CbwFXBe82pp4zgNa6BjislJoTvOkCYBdj+FgTKKmcppRKDr7Wjec8po91mIGO7YvAV4LdK6cBzUYJZki01nHzD7gEKAP2A3davT8n6DmeSeCUahuwJfjvEgI14zXA3uD/WVbv6wl6/ucCLwW/ng58BOwDngYSrN6/E/B8TwI2BI/334EJY/1YAz8GSoEdwGNAwlg81sATBMYBPAQy7hsGOrYESiv3BGPbdgJdPUN+LJmiL4QQcS6eSitCCCH6IYFcCCHinARyIYSIcxLIhRAizkkgF0KIOCeBXAgh4pwEciGEiHP/H6tKuZoFHKFkAAAAAElFTkSuQmCC\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "z = cvx.Variable(d)\n",
    "\n",
    "objective = cvx.Minimize(cvx.quad_form(z,S))\n",
    "constraints = [mu.T*z == R, sum(z) == 1]\n",
    "\n",
    "prob = cvx.Problem(objective,constraints)\n",
    "prob.solve()\n",
    "\n",
    "print('Optimal portfolio')\n",
    "plt.plot(z.value)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Sharpe Optimal portfolio\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "[<matplotlib.lines.Line2D at 0x81de18208>]"
      ]
     },
     "execution_count": 4,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "# Sharpe Optimal Portfolio\n",
    "objective = cvx.Minimize(cvx.quad_form(z,S))\n",
    "constraints = [mu.T*z == R]\n",
    "\n",
    "prob = cvx.Problem(objective,constraints)\n",
    "prob.solve()\n",
    "\n",
    "phi = z.value/z.value.sum()\n",
    "\n",
    "print('Sharpe Optimal portfolio')\n",
    "plt.plot(phi)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "#### Problem 3 Code & Results\n",
    "\n",
    "###### Part b"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [],
   "source": [
    "J = np.ones((len(S),1))    # d x 1 ones vector\n",
    "S_inv = np.linalg.inv(S)   # inverse of covariance matrix"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [],
   "source": [
    "x_numerator = np.matmul(S_inv, J)     # numerator of the optimal solution\n",
    "JS_inv = J.T*S_inv\n",
    "x_denominator = np.matmul(JS_inv, J)  # denominator of the optimal solution\n",
    "\n",
    "x_min = x_numerator/x_denominator     # optimal solution (min variance portfolio)\n",
    "\n",
    "r_min = np.dot(mu.T, x_min).item(0)   # minimum expected return"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [],
   "source": [
    "opt_val = xS*x_min                    # minimum variance (i.e. optimal objective value)\n",
    "\n",
    "sigma2_min = opt_val.item(0)        # extracts the scalar value from the 1x1 matrix"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Minimum Variance (opt value):   5.850607343853076e-11\n",
      "\n",
      "Minimum Return (r_min):   0.05152761072308839\n"
     ]
    }
   ],
   "source": [
    "print('Minimum Variance (opt value):  ', sigma2_min)\n",
    "\n",
    "print('\\nMinimum Return (r_min):  ', r_min)\n",
    "\n",
    "#print('\\nMinimum Variance Portfolio x (optimal solution):\\n\\n', x_min)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "###### Part c"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Want to solve the system of equations\n",
    "$$\n",
    "\\underbrace{\\begin{bmatrix}\n",
    "\\begin{bmatrix} \\mu^\\top \\\\ \\mathbf{1}^\\top \\end{bmatrix}  & \\mathbf{0}\\\\\n",
    "2S & \\begin{bmatrix} \\mu & \\mathbf{1} \\end{bmatrix} \n",
    "\\end{bmatrix}}_{M}\n",
    "\\underbrace{\\begin{bmatrix}\n",
    "x \\\\ u\n",
    "\\end{bmatrix}}_{z}\n",
    "= \\underbrace{\\begin{bmatrix}\n",
    "\\begin{bmatrix} 1.1r_{min} \\\\ 1 \\end{bmatrix} \\\\\n",
    "0\n",
    "\\end{bmatrix}}_{q}\n",
    "$$"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "metadata": {},
   "outputs": [],
   "source": [
    "M11 = np.concatenate((mu.T, J.T),axis=0)\n",
    "M12 = np.zeros((len(M11),len(M11)))\n",
    "M21 = 2*S\n",
    "M22 = np.concatenate((mu, J),axis=1)\n",
    "\n",
    "M1 = np.concatenate((M11, M12), axis=1)\n",
    "M2 = np.concatenate((M21, M22),axis=1)\n",
    "M = np.concatenate((M1,M2),axis=0)\n",
    "\n",
    "b = np.array([[1.1*r_min], [1]])\n",
    "q = np.concatenate((b, np.zeros((len(S),1))), axis=0)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {},
   "outputs": [],
   "source": [
    "z = np.linalg.solve(M,q)\n",
    "x_opt = z[0:d]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {},
   "outputs": [],
   "source": [
    "x_left = S_inv*M22\n",
    "x_mid = np.linalg.inv(M11*S_inv*M22)\n",
    "x_right = b\n",
    "\n",
    "x_2 = x_left*x_mid*x_right\n",
    "\n",
    "alpha1 = r_min\n",
    "alpha2 = np.dot(mu.T, x_opt).item(0)\n",
    "\n",
    "sigma2 = np.zeros(len(S)) \n",
    "r = np.zeros(len(S))\n",
    "alpha = r_min\n",
    "\n",
    "for i in range(len(S)):\n",
    "    weight = (alpha2-alpha)/(alpha2-alpha1)\n",
    "    phi = weight*x_min + (1-weight)*x_opt\n",
    "    #eff = np.concatenate((eff, phi), axis=1)\n",
    "    sigma2[i] = phi.T*S*phi\n",
    "    r[i] = alpha\n",
    "    alpha += 0.0001"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "plt.title('Efficient Frontier')\n",
    "plt.xlabel(r'$\\sigma^2$')\n",
    "plt.ylabel(r'$\\alpha$')\n",
    "plt.plot(sigma2, r)\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "###### Part d - Sharpe optimal portfolio"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "metadata": {},
   "outputs": [],
   "source": [
    "r_f = 0.04               #risk-free rate\n",
    "\n",
    "J = np.ones((len(mu),1)) # d x 1 ones vector \n",
    "mu_ex = mu - r_f*J       # vector of expected excess returns\n",
    "\n",
    "x_num = S_inv*mu_ex     \n",
    "x_den = mu_ex.T*S_inv*mu_ex\n",
    "\n",
    "x_star = x_num/x_den     # Optimal solution \n",
    "\n",
    "x_sh = x_star/np.dot(J.T, x_star).item(0)    # Sharpe optimal portfolio"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Excess Return:   0.026571747427911182\n"
     ]
    }
   ],
   "source": [
    "ex_return = mu_ex.T*x_sh       # excess return on optimal Sharpe portfolio\n",
    "print('Excess Return:  ', ex_return.item(0))                 "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Optimal Sharpe portfolio statistics:\n",
      "\n",
      "Variance:        1.3485956836610517e-10\n",
      "\n",
      "Excess Return:   0.026571747427911182\n",
      "\n",
      "Sharpe Ratio:    2288.1222961738217\n"
     ]
    }
   ],
   "source": [
    "opt_variance = x_sh.T*S*x_sh      # variance on optimal Sharpe portfolio\n",
    "ex_return = mu_ex.T*x_sh          # excess return on optimal Sharpe portfolio\n",
    "sharpe_ratio = ex_return/np.sqrt(opt_variance)\n",
    "\n",
    "print('Optimal Sharpe portfolio statistics:')\n",
    "print('\\nVariance:       ', opt_variance.item(0))  \n",
    "print('\\nExcess Return:  ', ex_return.item(0)) \n",
    "print('\\nSharpe Ratio:   ', sharpe_ratio.item(0))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.3"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
